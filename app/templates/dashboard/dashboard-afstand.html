{% extends 'base/dashboard-base.html' %}

{% block title %} Afstandsensor {% endblock %}

{% block navbar %}
            <div class="user-section">
                <img class="user-avatar" src="{{ url_avatar }}" alt="User Avatar">
                <span class="user-name">{{ display_name }}</span>
                <a href="{{ url_for('auth.logout') }}">{{ gettext('Uitloggen') }}</a>
            </div>
{% endblock %}

{% block content %}

        <h1>Dashboard - {{ gettext('Afstandsensor') }}</h1>
    {% if afstand %}
        <h2 id="afstand"></h2>
    {% else %}
        <p>{{ gettext('Fout: We konden de afstand niet ophalen.') }}</p>
        <a href="{{ url_for('dashboard.index') }}">{{ gettext('Ga terug') }}</a>
    {% endif %}

    <script>
        function updateAfstand() {
            const afstandValue = "{{ afstand | tojson }}";
            
            const afstandElement = document.getElementById('afstand');
            afstandElement.innerHTML = `{{ gettext('Afstand tussen laptop: ') }} ${afstandValue}`;
        }
    
        setInterval(updateAfstand, 100);
    </script>

{% endblock %}